<script>
	var registerService = new RegisterService();
	var httpAjaxService = new HttpAjaxServices();

	function showAggrementPage(data) {
		$("#aggrementModel").modal('show');
	}

	function enableRegister() {
		$("#vendorReg").hide();
		$('#panelId').show();
		document.getElementById("registerForm").reset();
		$('#registerDiv').show();
		$('#DirectSystemRegAlertID').hide();
	}

	$(document)
			.ready(
					
					
					function() {
						
						$('.alert .close').click(function() {

				  			   $(this).closest('.alert').hide();

				  			});
						
						if (MODEL.userLoggedIn == 1) {
							
							$('#vendorReg').show();
							$('#directSysPanleId').show();
							registerService.readUserDirectSystems();
							
						} else {
							$('#panelId').hide();
							$('#vendorReg').hide();
							$('#directSysPanleId').hide();
						}

						$(".date-picker").datepicker({
							dateFormat : 'yy-mm-dd'
						});

						

						$("#submitButton").click(function(e) {
							var jform = $('#registerForm');
							//jform.validationEngine({promptPosition:"centerRight", validateNonVisibleFields: true, updatePromptsPosition:true});
							if (jform.validationEngine('validate')) {
								registerService.registerService();
							} else {
								$('#signupForm .formError').show(0);
							}
						});
					});
</script>


<div class="container" style="padding-top: 30px;">
	<div>
		<p>Welcome to the Vendor Registration page. This page provides the
			capability for Vendors to register their Direct systems that can be
			used for interoperability testing by implementers (providers,
			hospitals etc) to verify interoperability with their Direct
			implementation. To see which vendors are available for
			interoperability testing please click on Direct Services..</p>
	</div>
	<div id="vendorReg" hidden="true" class="text-center">
		<br/>
		<a href="#" onclick="showAggrementPage()" id="regLinkId" class="btn btn-primary">Register your Direct System</a>
		<br/>
				
		<br/>
	</div>
	<div class="alert alert-success alert-dismissible" role="alert"
				id="DirectSystemRegAlertID" style="padding: 11px;" hidden="true" style="margin-bottom:30px;">
				<button type="button" class="close"
					aria-label="Close">
					<span aria-hidden="true">&times;</span>
				</button>
				Direct System was successfully registered.
			</div>
	
	
	<div id="panelId" class="panel panel-default" hidden="true">
		<div class="panel-heading">
			<h3 class="panel-title">Direct System Registration</h3>
		</div>

		<div class="panel-body">

			

			<div id="registerDiv" style="padding-top: 20px;" hidden="true">
				<form id="registerForm" class="form-horizontal">
					<div class="form-group">
						<label class="col-lg-3 control-label" for="cehrtLabel">CEHRT Label </label>
						<div class="col-lg-5">
							<input type="text"
								class="form-control validate[required,maxSize[30]]"
								name="cehrtLabel" id="cehrtLabel" />
						</div>
					</div>

					<div class="form-group">
						<label class="col-lg-3 control-label" for="orgName">Organization Name </label>
						<div class="col-lg-5">
							<input type="text"
								class="form-control validate[required,maxSize[30]]"
								name="orgName" id="orgName" />
						</div>
					</div>

					<div class="form-group">
						<label class="col-lg-3 control-label" for="directEmail">Direct Email Address</label>
						<div class="col-lg-5">
							<input type="text"
								class="form-control validate[required,custom[email]]"
								name="directEmail" id="directEmail" />
						</div>
					</div>

					<div class="form-group">
						<label class="col-lg-3 control-label" for="pocEmail">Point of Contact
							Email (This will also be used as your User Name for SITE Interop
							Portal)</label>
						<div class="col-lg-5">
							<input type="text"
								class="form-control validate[required,custom[email],custom[notEqual]]"
								name="pocEmail" id="pocEmail" />
						</div>
					</div>

					<div class="form-group">
						<label class="col-lg-3 control-label" for="pocFirstName">Point of Contact
							First Name</label>
						<div class="col-lg-5">
							<input type="text"
								class="form-control validate[required,maxSize[30]]"
								name="pocFirstName" id="pocFirstName" />
						</div>
					</div>

					<div class="form-group">
						<label class="col-lg-3 control-label" for="pocLastName">Point of Contact
							Last Name</label>
						<div class="col-lg-5">
							<input type="text"
								class="form-control validate[required,maxSize[30]]"
								name="pocLastName" id="pocLastName" />
						</div>
					</div>

					<div class="form-group">
						<label class="col-lg-3 control-label" for="timezone">Timezone</label>
						<div class="col-lg-5">
							<select name="country" class="form-control validate[required]"
								id="timezone" data-toggle="tooltip" data-placement="right"
								data-original-title="This is the timezone which indicates availability of the POC from 9am to 5pm"
								required data-fv-notempty-message="Timezone is required">
								<option value="">Please select timezone</option>
								<option value="est">Eastern</option>
								<option value="AU">Pacific</option>
								<option value="CA">Central</option>
							</select>
						</div>
					</div>



					<div class="form-group">
					
						<fieldset>
						<legend class="col-lg-3 control-label" style="font-size: inherit; border-bottom: none;">Direct Trust
							Membership</legend>
						<div class="col-lg-5">
							<div class="radio">
								<label for="option_yes"><input type="radio" name="optradio" id="option_yes" value="Yes"
									required
									data-fv-notempty-message="Direct Trust membership value is required">Yes</label>
							</div>
							<div class="radio">
								<label for="option_no"><input type="radio" name="optradio" id="option_no" value="No">No</label>
							</div>
						</div>
						</fieldset>
					</div>

					<div class="form-group">
						<div class="col-lg-3 control-label">Availability
							(Availability indicates the dates during which system is
							available for interoperability testing during weekdays).</div>
						<div class="col-lg-5">
							<div class="control-group">
								<label class="control-label" for="availFromDate">From</label>
								<div class="controls">
									<div class="input-group">
										<input type="text"
											class="date-picker form-control validate[required,custom[date]]"
											id="availFromDate" name="availFromDate" /> <div
											for="availFromDate" class="input-group-addon btn"><span
											class="glyphicon glyphicon-calendar"></span> </div>
									</div>
								</div>
							</div>

							<div class="control-group">
								<label class="control-label" for="availToDate">To</label>
								<div class="controls">
									<div class="input-group">
										<input type="text"
											class="date-picker form-control validate[required,custom[date]]"
											id="availToDate" name="availToDate" /> <div
											for="availToDate" class="input-group-addon btn"><span
											class="glyphicon glyphicon-calendar"></span> </div>
									</div>
								</div>
							</div>
						</div>
					</div>

					<div class="form-group">
						<div class="col-lg-9 col-lg-offset-3">
							<button type="submit" id="submitButton" class="btn btn-success"
								onclick="return false;">Register Service</button>
						</div>
					</div>
				</form>
				
				
			</div>
			
			<div class="alert alert-danger alert-dismissible" role="alert"
				id="directEmailExistAlertID" style="padding: 11px;" hidden="true">
				<button type="button" class="close"
					aria-label="Close">
					<span aria-hidden="true">&times;</span>
				</button>
				The direct email address has already been registered.
			</div>	
		</div>
	</div>
	
	
	<div id="directSysPanleId" class="panel panel-default" hidden="true">
		<div class="panel-heading">
			<h3 class="panel-title">Registered Direct Systems</h3>
		</div>

		<div class="panel-body">
		     <table class="table table-striped">
				<thead>
					<tr>
						<th class="col-sm-2">CEHRT Label</th>
						<th class="col-sm-2">Organization</th>
						<th class="col-sm-2">Direct Endpoint</th>
						<th class="col-sm-2">POC</th>
						<th class="col-sm-2">Availability Dates</th>
						<th class="col-sm-2">Direct Trust Member</th>
						<th class="col-sm-2">Trust Anchor</th>
					</tr>
				</thead>
				<tbody id=userDirectSysTableBody>
				</tbody>
			</table>
		
		</div>
   </div>
	
</div>




<div id="aggrementModel" class="modal fade">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal"
					aria-hidden="true">&times;</button>
				<h2 class="modal-title">Agreement</h2>
			</div>
			<div class="modal-body">
				<p>As a Participant of Cross Vendor Exchange, Parties shall not
					reveal Confidential Information, directly or indirectly, to any
					external persons, entities or organizations not involved with the
					respective Cross Vendor Exchange. Parties shall not use
					Confidential Information, except for the purpose of carrying out
					Cross Vendor Exchange. Parties shall use test data only.Parties
					shall not use live or real data that is actual data about living,
					identifiable individuals. Parties shall adhere to all Federal
					Regulations including, but not limited to the Health Insurance
					Portability and Accountability Act of 1996(HIPAA)</p>
			</div>
			<div class="modal-footer" style="margin-top: 0px;">
				<button type="button" class="btn btn-primary" data-dismiss="modal"
					onclick="enableRegister()">Accept</button>
				<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
			</div>
		</div>
	</div>
</div>

